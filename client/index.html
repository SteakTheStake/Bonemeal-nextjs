<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    
    <!-- Primary Meta Tags -->
    <title>Bonemeal - LabPBR Texture Converter & Automation Suite</title>
    <meta name="title" content="Bonemeal - LabPBR Texture Converter & Automation Suite" />
    <meta name="description" content="Professional Minecraft texture automation platform with Discord authentication. Features visual editing tools, batch processing, AI texture generation, F0 material analysis, and comprehensive LabPBR 1.3 conversion capabilities. Create, convert, and optimize textures with advanced interpolation methods and quality analysis." />
    <meta name="keywords" content="minecraft, texture, labpbr, converter, automation, pbr, specular, normal, maps, shader, resource pack, texture pack, f0, material analysis, discord, bonemeal" />
    <meta name="author" content="Bonemeal Texture Studio" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    
    <!-- Viewport and Mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Bonemeal" />
    <meta name="msapplication-TileColor" content="#8B4513" />
    <meta name="theme-color" content="#8B4513" />
    
    <!-- Favicons and Icons -->
    <link rel="icon" type="image/gif" href="/SkyBlock_items_enchanted_bonemeal_1752287919002.gif" />
    <link rel="shortcut icon" href="/SkyBlock_items_enchanted_bonemeal_1752287919002.gif" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icon-16x16.png" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bonemeal.sbs/" />
    <meta property="og:title" content="Bonemeal - LabPBR Texture Converter & Automation Suite" />
    <meta property="og:description" content="Professional Minecraft texture automation platform with Discord authentication. Features visual editing tools, batch processing, AI texture generation, and comprehensive LabPBR 1.3 conversion capabilities." />
    <meta property="og:image" content="https://bonemeal.sbs/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Bonemeal texture converter interface showing advanced processing tools and material analysis" />
    <meta property="og:site_name" content="Bonemeal Texture Studio" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://bonemeal.sbs/" />
    <meta property="twitter:title" content="Bonemeal - LabPBR Texture Converter & Automation Suite" />
    <meta property="twitter:description" content="Professional Minecraft texture automation platform with visual editing tools, batch processing, AI texture generation, and comprehensive LabPBR 1.3 conversion capabilities." />
    <meta property="twitter:image" content="https://bonemeal.sbs/og-image.png" />
    <meta property="twitter:image:alt" content="Bonemeal texture converter interface" />
    <meta property="twitter:site" content="@bonemeal_app" />
    <meta property="twitter:creator" content="@bonemeal_app" />
    
    <!-- Discord Rich Embeds -->
    <meta name="discord:card" content="summary_large_image" />
    <meta name="discord:site" content="Bonemeal Texture Studio" />
    <meta name="discord:title" content="Bonemeal - LabPBR Texture Converter" />
    <meta name="discord:description" content="ðŸŽ® Professional Minecraft texture automation suite&#10;âœ¨ Visual editing tools & AI generation&#10;ðŸ”¬ Advanced F0 material analysis&#10;ðŸ“Š Comprehensive LabPBR 1.3 support&#10;ðŸš€ Batch processing & quality metrics" />
    <meta name="discord:image" content="https://bonemeal.sbs/discord-embed.png" />
    <meta name="discord:color" content="#8B4513" />
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Bonemeal - LabPBR Texture Converter",
      "description": "Professional Minecraft texture automation platform with Discord authentication, featuring visual editing tools, batch processing, AI texture generation, and comprehensive LabPBR 1.3 conversion capabilities.",
      "url": "https://bonemeal.sbs",
      "applicationCategory": "GameApplication",
      "operatingSystem": ["Windows", "macOS", "Linux", "iOS", "Android"],
      "screenshot": "https://bonemeal.sbs/screenshot.png",
      "author": {
        "@type": "Organization",
        "name": "Bonemeal Texture Studio"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "LabPBR 1.3 texture conversion",
        "Visual texture editing tools", 
        "AI-powered texture generation",
        "Batch processing pipeline",
        "F0 material analysis",
        "Discord authentication",
        "Mobile-responsive design",
        "Project sharing system"
      ]
    }
    </script>
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://discord.com" />
    <link rel="preconnect" href="https://cdn.discordapp.com" />
    <link rel="dns-prefetch" href="https://discord.com" />
    
    <!-- Performance hints -->
    <link rel="prefetch" href="/projects" />
    <link rel="prefetch" href="/greenhouse" />
    <link rel="prefetch" href="/docs" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('Service Worker registered successfully:', registration.scope);
              
              // Handle updates
              registration.addEventListener('updatefound', () => {
                const newWorker = registration.installing;
                newWorker.addEventListener('statechange', () => {
                  if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                    // New content available, show update prompt
                    showUpdatePrompt();
                  }
                });
              });
            })
            .catch((error) => {
              console.log('Service Worker registration failed:', error);
            });
        });
      }
      
      function showUpdatePrompt() {
        if (confirm('A new version of Bonemeal is available. Would you like to update?')) {
          window.location.reload();
        }
      }
      
      // Handle PWA install prompt
      let deferredPrompt;
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        // Show custom install button
        const installButton = document.createElement('button');
        installButton.textContent = 'ðŸ“± Install Bonemeal App';
        installButton.className = 'pwa-install-button';
        installButton.style.cssText = `
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: #8B4513;
          color: white;
          border: none;
          padding: 12px 20px;
          border-radius: 8px;
          font-weight: 600;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3);
          z-index: 1000;
          font-family: system-ui, -apple-system, sans-serif;
          transition: all 0.2s ease;
          font-size: 14px;
        `;
        
        installButton.addEventListener('mouseenter', () => {
          installButton.style.transform = 'scale(1.05)';
          installButton.style.boxShadow = '0 6px 16px rgba(139, 69, 19, 0.4)';
        });
        
        installButton.addEventListener('mouseleave', () => {
          installButton.style.transform = 'scale(1)';
          installButton.style.boxShadow = '0 4px 12px rgba(139, 69, 19, 0.3)';
        });
        
        installButton.addEventListener('click', async () => {
          if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log('PWA install prompt outcome:', outcome);
            deferredPrompt = null;
            installButton.remove();
          }
        });
        
        document.body.appendChild(installButton);
        
        // Auto-hide after 15 seconds
        setTimeout(() => {
          if (installButton.parentNode) {
            installButton.style.opacity = '0';
            installButton.style.transform = 'translateY(10px)';
            setTimeout(() => installButton.remove(), 300);
          }
        }, 15000);
      });
      
      // Track PWA usage
      window.addEventListener('appinstalled', () => {
        console.log('PWA was installed successfully');
        // Show success message
        const successDiv = document.createElement('div');
        successDiv.textContent = 'âœ… Bonemeal app installed successfully!';
        successDiv.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: #059669;
          color: white;
          padding: 12px 20px;
          border-radius: 8px;
          font-weight: 600;
          z-index: 1000;
          font-family: system-ui, -apple-system, sans-serif;
          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
        `;
        document.body.appendChild(successDiv);
        setTimeout(() => successDiv.remove(), 5000);
      });
    </script>
  </body>
</html>